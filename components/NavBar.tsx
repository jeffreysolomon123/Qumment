import React from "react";
import Link from "next/link";
import {Button} from "@/components/ui/button";
import {createClient} from "@/lib/supabase/server";
import {LogoutButton} from "@/components/logout-button";

interface Props {
    isLogoutVisible?: boolean;
    pushSideway? : boolean;
}

export default async function NavBar({ isLogoutVisible }: Props) {
    const supabase = await createClient();
    const { data, error } = await supabase.auth.getUser();


    return (
        <nav className="w-full flex justify-center border-b border-b-foreground/10 h-16 overflow-hidden mona-sans-regular">
            <div className="w-full  flex justify-between items-center p-3 px-5 text-sm">
                <div className="flex items-center font-semibold">
                    {/*<Image src={logo    } alt="Logo" />*/}
                    <svg width="126" height="24" viewBox="0 0 126 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clipPath="url(#clip0_2063_50)">
                            <g filter="url(#filter0_i_2063_50)">
                                <path d="M11.1107 2.03611C13.4952 1.96948 15.8821 2.6253 17.8682 3.9429C17.8997 3.96375 17.9313 3.98459 17.9638 4.00606C19.0098 4.70493 19.9487 5.58708 20.6922 6.59805C20.7234 6.63925 20.7545 6.68045 20.7866 6.7229C22.5081 9.069 23.0938 11.9705 22.659 14.814C22.6397 14.9114 22.6201 15.0088 22.6003 15.1061C22.5292 15.4901 22.6083 15.7548 22.7976 16.0914C22.8175 16.1278 22.8374 16.1641 22.8579 16.2015C23.0549 16.5595 23.2587 16.9139 23.4617 17.2685C23.6896 17.6671 23.9097 18.0694 24.1282 18.4731C24.3095 18.807 24.496 19.1374 24.6856 19.4667C25.0233 20.0547 25.3401 20.6532 25.6577 21.252C25.6766 21.2877 25.6955 21.3234 25.7151 21.3603C25.7433 21.4134 25.7433 21.4134 25.772 21.4677C25.9488 21.8007 26.1282 22.1322 26.3088 22.4632C26.3349 22.511 26.3609 22.5588 26.3878 22.6081C26.4242 22.6746 26.4242 22.6746 26.4613 22.7424C26.4835 22.7834 26.5058 22.8244 26.5288 22.8666C26.5695 22.939 26.612 23.0105 26.6565 23.0807C26.7981 23.3043 26.7981 23.3043 26.774 23.4656C26.764 23.5037 26.754 23.5418 26.7437 23.581C24.4321 23.4012 22.1488 23.0995 19.8572 22.7514C19.4149 22.6842 18.9725 22.6176 18.5299 22.5522C18.455 22.5411 18.3801 22.53 18.3052 22.5187C18.2024 22.5033 18.0996 22.4882 17.9968 22.4731C17.9388 22.4645 17.8809 22.4559 17.8212 22.447C17.4848 22.4073 17.3252 22.467 17.0424 22.6479C15.3224 23.6951 13.2675 24.1555 11.2651 24.1508C11.2224 24.1508 11.1798 24.1508 11.1358 24.1508C10.3893 24.1489 9.67401 24.0841 8.94218 23.9316C8.89667 23.9228 8.85116 23.9139 8.80428 23.9048C6.81299 23.5144 4.94635 22.5278 3.47453 21.1475C3.3613 21.0417 3.24572 20.941 3.12704 20.8413C2.92683 20.6676 2.75695 20.4781 2.58807 20.2746C2.5557 20.2362 2.5557 20.2362 2.52267 20.1971C0.649561 17.9727 -0.262132 15.1853 -0.0392659 12.2914C0.15477 10.1387 0.996248 8.01768 2.38636 6.34756C2.40981 6.31917 2.43327 6.29078 2.45744 6.26153C2.97022 5.64423 3.51555 5.08759 4.15138 4.59417C4.2004 4.55464 4.24941 4.51512 4.29991 4.4744C4.74633 4.12096 5.22018 3.82468 5.71469 3.54213C5.75253 3.52041 5.79036 3.4987 5.82934 3.47633C7.42255 2.57339 9.28065 2.09245 11.1107 2.03611ZM5.81555 8.20116C5.7733 8.24249 5.73104 8.28382 5.68751 8.3264C4.62792 9.42244 3.96324 10.9051 3.79838 12.4093C3.79436 12.4452 3.79033 12.4811 3.78619 12.5181C3.6861 13.4875 3.80276 14.4391 4.10095 15.365C4.11773 15.4175 4.11773 15.4175 4.13484 15.471C4.72671 17.2738 6.10819 18.7114 7.78328 19.574C9.34277 20.344 11.3303 20.6082 13.027 20.1744C13.066 20.1647 13.1051 20.155 13.1454 20.145C14.0354 19.9183 14.8705 19.5624 15.641 19.0646C15.6887 19.0343 15.6887 19.0343 15.7373 19.0034C15.8603 18.9185 15.8603 18.9185 15.9964 18.7907C16.2393 18.5795 16.4566 18.4054 16.7914 18.4064C17.0554 18.4264 17.3128 18.4778 17.5719 18.5306C17.6597 18.5463 17.7476 18.5618 17.8355 18.577C18.0106 18.6077 18.1854 18.6397 18.3601 18.6729C18.6312 18.7237 18.9031 18.7675 19.1758 18.8086C19.2173 18.8151 19.2588 18.8215 19.3015 18.8281C19.5151 18.8598 19.7191 18.8788 19.9358 18.8718C19.8654 18.6879 19.7825 18.5168 19.6884 18.3437C19.6594 18.2903 19.6304 18.2369 19.6006 18.1819C19.5697 18.1254 19.5389 18.069 19.5071 18.0108C19.4597 17.9237 19.4597 17.9237 19.4114 17.8349C19.1886 17.4259 18.9632 17.0184 18.7347 16.6126C18.7172 16.581 18.6996 16.5495 18.6815 16.517C18.6399 16.4438 18.5969 16.3714 18.5532 16.2994C18.5296 16.2598 18.5061 16.2203 18.4818 16.1795C18.4599 16.1436 18.438 16.1077 18.4154 16.0707C18.3639 15.9453 18.3742 15.8895 18.4166 15.7627C18.4521 15.6802 18.4879 15.5977 18.5238 15.5153C18.5674 15.3883 18.6095 15.2614 18.6498 15.1333C18.6607 15.0991 18.6716 15.0648 18.6828 15.0295C18.7914 14.6784 18.8656 14.3246 18.9272 13.9623C18.9339 13.9242 18.9406 13.8861 18.9475 13.8469C19.1937 12.1247 18.6673 10.2802 17.6444 8.88999C17.4295 8.61436 17.2015 8.35425 16.9604 8.10096C16.9228 8.06034 16.8852 8.01972 16.8464 7.97787C15.5042 6.57841 13.6026 5.94148 11.6988 5.8374C9.4674 5.78896 7.39666 6.65297 5.81555 8.20116Z" fill="white"/>
                            </g>
                            <path d="M8.22021 10.3942C9.01721 9.65485 10.3233 9.48333 11.1597 10.1061L11.1812 10.1227L11.2046 10.1364C11.224 10.1478 11.2648 10.1727 11.3052 10.192C11.3532 10.215 11.431 10.2454 11.5308 10.2526C11.6285 10.2596 11.7078 10.2412 11.7554 10.2272C11.7968 10.215 11.8405 10.198 11.8638 10.1891L11.8911 10.1784L11.9165 10.1657C11.9807 10.1323 11.9806 10.131 12.0454 10.0973L12.0464 10.0983C12.0923 10.0745 12.1387 10.0505 12.186 10.026L12.1899 10.0241C12.2348 10.0003 12.2788 9.9752 12.3247 9.95084L12.3257 9.95181C12.8359 9.69944 13.4634 9.66259 14.0415 9.82877C14.5907 10.0268 15.0094 10.3293 15.2896 10.7751L15.4067 10.986C15.4243 11.0199 15.4425 11.0539 15.4604 11.0885V11.0895C15.7337 11.6503 15.7106 12.2708 15.4849 12.9284C15.3231 13.3008 15.0658 13.6512 14.7485 14.0016C14.4207 14.3636 14.07 14.6852 13.7085 15.0456H13.7075C13.6645 15.0885 13.6645 15.0887 13.6206 15.1325C13.4699 15.2829 13.3194 15.4335 13.1685 15.5836C13.0123 15.7391 12.8567 15.895 12.7017 16.0504L12.3423 16.4088C12.2844 16.4665 12.2261 16.5248 12.1685 16.5827C12.0905 16.661 12.0118 16.7392 11.9321 16.818L11.9302 16.819C11.8917 16.8574 11.8533 16.896 11.814 16.9352C11.7589 16.9811 11.7269 16.9982 11.7036 17.0075C11.684 17.0153 11.6562 17.0221 11.6079 17.0299C11.5647 17.019 11.5158 16.9998 11.4546 16.9538C11.3629 16.8847 11.2822 16.7987 11.1499 16.6667L11.147 16.6647L11.0571 16.5749H11.0562C10.9595 16.4795 10.8632 16.3834 10.7661 16.2868L10.7651 16.2858L10.5591 16.0817C10.4158 15.9398 10.2724 15.7973 10.1294 15.6549L9.57959 15.111C9.43848 14.9715 9.29783 14.8314 9.15674 14.6911L9.15576 14.6901C9.08832 14.6231 9.02035 14.5567 8.95264 14.4899C8.14829 13.6962 7.57251 12.9815 7.5542 12.0104C7.56167 11.3968 7.79037 10.8535 8.22021 10.3942Z" fill="#6C0E82" stroke="#CD00FD"/>
                        </g>
                        <g filter="url(#filter1_i_2063_50)">
                            <path d="M38.2244 23.0909V17.2315H38.1534C38.0066 17.5677 37.7983 17.8825 37.5284 18.1761C37.2585 18.4697 36.92 18.7064 36.5128 18.8863C36.1103 19.0663 35.6345 19.1562 35.0852 19.1562C34.2803 19.1562 33.5488 18.9479 32.8906 18.5312C32.2325 18.1146 31.7069 17.4896 31.3139 16.6562C30.9209 15.8229 30.7244 14.7883 30.7244 13.5525C30.7244 12.2694 30.928 11.2135 31.3352 10.3849C31.7424 9.55631 32.2751 8.94315 32.9332 8.54542C33.5961 8.1477 34.3087 7.94883 35.071 7.94883C35.6439 7.94883 36.134 8.04826 36.5412 8.24713C36.9484 8.44126 37.2846 8.6922 37.5497 8.99997C37.8149 9.30773 38.0161 9.62734 38.1534 9.95878H38.2599V8.09088H41.6974V23.0909H38.2244ZM36.2926 16.4503C36.714 16.4503 37.0739 16.3319 37.3722 16.0951C37.6705 15.8537 37.9001 15.5151 38.0611 15.0795C38.2221 14.6439 38.3026 14.1325 38.3026 13.5454C38.3026 12.9488 38.2221 12.4351 38.0611 12.0042C37.9048 11.5734 37.6752 11.2419 37.3722 11.0099C37.0739 10.7779 36.714 10.6619 36.2926 10.6619C35.8617 10.6619 35.4972 10.7803 35.1989 11.017C34.9006 11.2538 34.6733 11.5876 34.517 12.0184C34.3655 12.4493 34.2898 12.9583 34.2898 13.5454C34.2898 14.1325 34.3679 14.6439 34.5241 15.0795C34.6804 15.5151 34.9053 15.8537 35.1989 16.0951C35.4972 16.3319 35.8617 16.4503 36.2926 16.4503ZM50.9322 14.2912V8.09088H54.3981V19H51.0884V16.9687H50.9748C50.7333 17.6363 50.3214 18.1666 49.739 18.5596C49.1613 18.9479 48.4629 19.142 47.6438 19.142C46.9004 19.142 46.247 18.9716 45.6836 18.6307C45.1201 18.2897 44.6822 17.8139 44.3697 17.2031C44.0572 16.5876 43.8986 15.8679 43.8938 15.044V8.09088H47.3668V14.3622C47.3716 14.954 47.5278 15.4204 47.8356 15.7613C48.1433 16.1022 48.5624 16.2727 49.0927 16.2727C49.4383 16.2727 49.7485 16.1969 50.0231 16.0454C50.3024 15.8892 50.5226 15.6643 50.6836 15.3707C50.8493 15.0724 50.9322 14.7126 50.9322 14.2912ZM56.6087 19V8.09088H59.9112V10.0937H60.032C60.2592 9.43084 60.6428 8.90764 61.1825 8.52412C61.7223 8.14059 62.3662 7.94883 63.1143 7.94883C63.8719 7.94883 64.5206 8.14296 65.0604 8.53122C65.6001 8.91948 65.9434 9.44031 66.0902 10.0937H66.2038C66.4074 9.44504 66.8052 8.92658 67.397 8.53832C67.9889 8.14533 68.6873 7.94883 69.4922 7.94883C70.5244 7.94883 71.3625 8.28027 72.0064 8.94315C72.6503 9.60129 72.9723 10.5057 72.9723 11.6562V19H69.4993V12.4517C69.4993 11.9072 69.3596 11.4929 69.0803 11.2088C68.8009 10.92 68.4387 10.7755 67.9936 10.7755C67.5154 10.7755 67.139 10.9318 66.8643 11.2443C66.5945 11.5521 66.4595 11.9664 66.4595 12.4872V19H63.1214V12.4162C63.1214 11.9095 62.9841 11.5094 62.7095 11.2159C62.4349 10.9223 62.0727 10.7755 61.6229 10.7755C61.3198 10.7755 61.0523 10.8489 60.8203 10.9957C60.5883 11.1378 60.406 11.3414 60.2734 11.6065C60.1456 11.8717 60.0817 12.1842 60.0817 12.544V19H56.6087ZM75.1243 19V8.09088H78.4268V10.0937H78.5476C78.7749 9.43084 79.1584 8.90764 79.6982 8.52412C80.2379 8.14059 80.8819 7.94883 81.63 7.94883C82.3875 7.94883 83.0362 8.14296 83.576 8.53122C84.1158 8.91948 84.459 9.44031 84.6058 10.0937H84.7195C84.9231 9.44504 85.3208 8.92658 85.9126 8.53832C86.5045 8.14533 87.2029 7.94883 88.0078 7.94883C89.04 7.94883 89.8781 8.28027 90.522 8.94315C91.166 9.60129 91.4879 10.5057 91.4879 11.6562V19H88.0149V12.4517C88.0149 11.9072 87.8752 11.4929 87.5959 11.2088C87.3165 10.92 86.9543 10.7755 86.5092 10.7755C86.031 10.7755 85.6546 10.9318 85.38 11.2443C85.1101 11.5521 84.9751 11.9664 84.9751 12.4872V19H81.6371V12.4162C81.6371 11.9095 81.4998 11.5094 81.2251 11.2159C80.9505 10.9223 80.5883 10.7755 80.1385 10.7755C79.8355 10.7755 79.5679 10.8489 79.3359 10.9957C79.1039 11.1378 78.9216 11.3414 78.7891 11.6065C78.6612 11.8717 78.5973 12.1842 78.5973 12.544V19H75.1243ZM98.7393 19.2059C97.5982 19.2059 96.6134 18.981 95.7848 18.5312C94.9609 18.0767 94.3265 17.4304 93.8814 16.5923C93.4411 15.7495 93.2209 14.7481 93.2209 13.588C93.2209 12.4611 93.4434 11.4763 93.8885 10.6335C94.3336 9.78595 94.9609 9.12781 95.7706 8.65906C96.5803 8.18558 97.5343 7.94883 98.6328 7.94883C99.4093 7.94883 100.12 8.06957 100.763 8.31105C101.407 8.55253 101.964 8.91001 102.433 9.38349C102.901 9.85698 103.266 10.4417 103.526 11.1378C103.787 11.829 103.917 12.6221 103.917 13.517V14.3835H94.4354V12.3664H100.685C100.681 11.9971 100.593 11.6681 100.423 11.3792C100.252 11.0904 100.018 10.8655 99.7195 10.7045C99.4259 10.5388 99.0874 10.4559 98.7038 10.4559C98.3156 10.4559 97.9676 10.5435 97.6598 10.7187C97.352 10.8892 97.1082 11.1235 96.9283 11.4218C96.7483 11.7154 96.6536 12.0492 96.6442 12.4233V14.4758C96.6442 14.9209 96.7318 15.3115 96.907 15.6477C97.0821 15.9791 97.3307 16.2372 97.6527 16.4218C97.9747 16.6065 98.3582 16.6988 98.8033 16.6988C99.111 16.6988 99.3904 16.6562 99.6413 16.571C99.8923 16.4858 100.108 16.3603 100.288 16.1946C100.468 16.0289 100.603 15.8253 100.692 15.5838L103.881 15.6761C103.749 16.3911 103.458 17.0137 103.008 17.544C102.563 18.0696 101.978 18.4791 101.254 18.7727C100.529 19.0615 99.6911 19.2059 98.7393 19.2059ZM109.164 12.7784V19H105.691V8.09088H108.993V10.0937H109.114C109.355 9.42611 109.767 8.9029 110.35 8.52412C110.932 8.14059 111.626 7.94883 112.431 7.94883C113.198 7.94883 113.863 8.12165 114.426 8.4673C114.995 8.80821 115.435 9.28643 115.748 9.90196C116.065 10.5128 116.221 11.2277 116.216 12.0468V19H112.743V12.7287C112.748 12.1226 112.594 11.6491 112.282 11.3082C111.974 10.9673 111.545 10.7968 110.996 10.7968C110.632 10.7968 110.31 10.8773 110.03 11.0383C109.756 11.1946 109.542 11.4195 109.391 11.713C109.244 12.0066 109.168 12.3617 109.164 12.7784ZM124.524 8.09088V10.6477H117.642V8.09088H124.524ZM119.084 5.47724H122.557V15.5696C122.557 15.7826 122.59 15.9555 122.656 16.088C122.727 16.2159 122.829 16.3082 122.962 16.365C123.094 16.4171 123.253 16.4432 123.438 16.4432C123.57 16.4432 123.71 16.4313 123.857 16.4076C124.008 16.3792 124.122 16.3556 124.197 16.3366L124.723 18.8437C124.557 18.8911 124.323 18.9503 124.02 19.0213C123.722 19.0923 123.364 19.1373 122.947 19.1562C122.133 19.1941 121.435 19.0994 120.852 18.8721C120.275 18.6401 119.832 18.2803 119.524 17.7926C119.221 17.3049 119.074 16.6917 119.084 15.9531V5.47724Z" fill="white"/>
                        </g>
                        <defs>
                            <filter id="filter0_i_2063_50" x="-0.0722656" y="2.03149" width="27.8584" height="24.1194" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
                                <feFlood floodOpacity="0" result="BackgroundImageFix"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dx="1" dy="2"/>
                                <feGaussianBlur stdDeviation="1.05"/>
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.43 0"/>
                                <feBlend mode="normal" in2="shape" result="effect1_innerShadow_2063_50"/>
                            </filter>
                            <filter id="filter1_i_2063_50" x="30.7246" y="5.47723" width="103.199" height="25.6136" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
                                <feFlood floodOpacity="0" result="BackgroundImageFix"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dx="37" dy="8"/>
                                <feGaussianBlur stdDeviation="4.6"/>
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.38 0"/>
                                <feBlend mode="normal" in2="shape" result="effect1_innerShadow_2063_50"/>
                            </filter>
                            <clipPath id="clip0_2063_50">
                                <rect width="27" height="23" fill="white" transform="translate(0 1)"/>
                            </clipPath>
                        </defs>
                    </svg>


                </div>
                {/*{!hasEnvVars ? <EnvVarWarning /> : <AuthButton />}*/}
            </div>
            <div className="flex gap-4 items-center mr-6">
                <Link href="/docs" className="shadow-inner-lg text-md">Docs</Link>

                {isLogoutVisible===true && (
                    <LogoutButton />
                )}

                {!data?.user ? (
                    <Link href="/auth/login" className="hidden sm:block shadow-inner-lg text-md">Sign in</Link>
                ) : null}
                {!data?.user ? (
                    <Button asChild size="sm" className="main-color-bg text-md hover:bg-[#6C0E82]">
                        <Link href="/auth/sign-up" className="shadow-inner-lg text-white text-md">Get Started</Link>
                    </Button>
                ) : (
                    !isLogoutVisible && (
                        <Button asChild size="sm" className="main-color-bg text-md hover:bg-[#6C0E82]">
                            <Link href="/dashboard" className="shadow-inner-lg text-white text-md">Dashboard
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                     fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round"
                                     strokeLinejoin="round"
                                     className="lucide lucide-chevron-right-icon lucide-chevron-right">
                                    <path d="m9 18 6-6-6-6"/>
                                </svg>
                            </Link>
                        </Button>
                    )
                )}
            </div>
        </nav>

    )
}